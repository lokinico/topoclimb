{% set messages = flash() %}
{% if messages %}
    <div class="flash-messages">
        {% for type, typeMessages in messages %}
            {% for message in typeMessages %}
                <div class="alert alert-{{ type }} alert-dismissible fade show">
                    {{ message }}
                    <button type="button" class="close" aria-label="Fermer">&times;</button>
                </div>
            {% endfor %}
        {% endfor %}
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Auto-dismiss alerts after 5 seconds
        setTimeout(function() {
            document.querySelectorAll('.alert').forEach(function(alert) {
                alert.style.display = 'none';
            });
        }, 5000);

        // Add click handler for dismiss buttons
        document.querySelectorAll('.alert .close').forEach(function(button) {
            button.addEventListener('click', function() {
                this.parentElement.style.display = 'none';
            });
        });
    });
    </script>
    
    {# Effacer les messages après les avoir affichés #}
    {{ clear_flash() }}
{% endif %}
{% set messages = flash() %}
{% if messages %}
    <div class="flash-messages mb-4">
        {% for type, typeMessages in messages %}
            {% set alertClass = 'alert-info' %}
            {% set icon = 'info-circle' %}
            
            {% if type == 'success' %}
                {% set alertClass = 'alert-success' %}
                {% set icon = 'check-circle' %}
            {% elseif type == 'error' or type == 'danger' %}
                {% set alertClass = 'alert-danger' %}
                {% set icon = 'exclamation-circle' %}
            {% elseif type == 'warning' %}
                {% set alertClass = 'alert-warning' %}
                {% set icon = 'exclamation-triangle' %}
            {% endif %}
            
            {% for message in typeMessages %}
                <div class="alert {{ alertClass }} alert-dismissible fade show" role="alert">
                    <i class="fas fa-{{ icon }} me-2"></i>
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fermer"></button>
                </div>
            {% endfor %}
        {% endfor %}
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Auto-dismiss après 5 secondes
        setTimeout(function() {
            const alerts = document.querySelectorAll('.flash-messages .alert');
            alerts.forEach(function(alert) {
                const bsAlert = new bootstrap.Alert(alert);
                bsAlert.close();
            });
        }, 5000);
    });
    </script>
    
    {# Effacer les messages après affichage #}
    {{ clear_flash() }}
{% endif %}
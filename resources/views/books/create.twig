{% extends "layouts/app.twig" %}

{% block title %}Créer un guide d'escalade - TopoclimbCH{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="page-header mb-4">
        <div class="breadcrumbs mb-2">
            <a href="{{ url('/') }}">Accueil</a> &raquo;
            <a href="{{ url('/books') }}">Guides</a> &raquo;
            <span>Nouveau guide</span>
        </div>
        
        <h1>Créer un guide d'escalade</h1>
        <p class="text-muted">Ajoutez un nouveau guide ou topo d'escalade</p>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <form method="POST" action="{{ url('/books') }}" class="card">
                <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
                
                <div class="card-body">
                    <div class="mb-3">
                        <label for="title" class="form-label">Titre du guide <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="title" name="title" required>
                        <div class="form-text">Le nom du guide ou topo</div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="author" class="form-label">Auteur</label>
                                <input type="text" class="form-control" id="author" name="author">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="publisher" class="form-label">Éditeur</label>
                                <input type="text" class="form-control" id="publisher" name="publisher">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="publication_year" class="form-label">Année de publication</label>
                                <input type="number" class="form-control" id="publication_year" name="publication_year" min="1900" max="{{ "now"|date("Y") }}">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="isbn" class="form-label">ISBN</label>
                                <input type="text" class="form-control" id="isbn" name="isbn">
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description" name="description" rows="4"></textarea>
                        <div class="form-text">Description du contenu du guide</div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="pages" class="form-label">Nombre de pages</label>
                                <input type="number" class="form-control" id="pages" name="pages" min="1">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="language" class="form-label">Langue</label>
                                <select class="form-select" id="language" name="language">
                                    <option value="">Sélectionner...</option>
                                    <option value="fr">Français</option>
                                    <option value="de">Allemand</option>
                                    <option value="it">Italien</option>
                                    <option value="en">Anglais</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="url" class="form-label">Site web ou lien</label>
                        <input type="url" class="form-control" id="url" name="url">
                        <div class="form-text">Lien vers le site de l'éditeur ou des informations complémentaires</div>
                    </div>
                </div>

                <div class="card-footer">
                    <div class="d-flex justify-content-between">
                        <a href="{{ url('/books') }}" class="btn btn-secondary">
                            <i class="bi bi-arrow-left"></i> Retour
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-plus-circle"></i> Créer le guide
                        </button>
                    </div>
                </div>
            </form>
        </div>

        <div class="col-lg-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Conseils</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <h6>Informations utiles :</h6>
                        <ul class="mb-0">
                            <li>Vérifiez que le guide n'existe pas déjà</li>
                            <li>Ajoutez une description détaillée</li>
                            <li>L'ISBN permet l'identification unique</li>
                            <li>Les liens peuvent pointer vers des ressources en ligne</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}